/* 
 *
 * css-fadeslide.js v1.4 (c) 2014
 * Enable CSS Transitions for jQuery fadeIn/Out/Toggle & slideUp/Down/Toggle
 *
 * @author  : Zach Winter (contact@zachwinter.com)
 * @link    : https://github.com/zachwinter/css-fadeslide.js
 * @license : MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 */

;(function(d,a,e){function b(f,h){function g(j){var i=this;i.active=0;i.chain=[];i.add=function(k){i.chain.push(k)};i.reset=function(){i.chain=[];i.active=0};i.route=function(k){i.active++;setTimeout(function(){if(typeof(i.chain[i.active])!=="undefined"){i.chain[i.active](k)}},20)};i.start=function(k){i.chain[0](k)}}e.fn.setFadeTransition=function(i,j){this.css(h+"transition","opacity "+i/1000+"s "+j);return this};e.fn.setSlideTransition=function(i,j){this.css(h+"transition-property","height, margin-top, margin-bottom, padding-top, padding-bottom");this.css(h+"transition-duration",i/1000+"s");this.css(h+"transition-timing-function",j);return this};e.fn.removeTransition=function(){this.css(h+"transition","none");return this};e.fn.fadeIn=function(k,m){var l=this,j=c(k,m);j.namespace=".fadeIn";function i(n){n.off(f+j.namespace);n.off(f+".fadeOut");if(typeof(n.Q)==="undefined"){n.Q=new g(n)}n.Q.reset();n.Q.add(function(o){o.removeTransition().css({display:"block",opacity:"0"}).setFadeTransition(j.duration,j.easing);o.Q.route(o)});n.Q.add(function(o){o.on(f+j.namespace,function(p){p.stopPropagation();o.off(f+j.namespace).css({display:"block",opacity:"1"});o.removeAttr("data-transition");if(typeof(j.callback)==="function"){j.callback()}});o.Q.route(o)});n.Q.add(function(o){o.attr("data-transition","fadeIn").css("opacity","1");o.Q.route(o)});n.Q.start(n)}if(l){l.each(function(){i(e(this))})}};e.fn.fadeOut=function(k,m){var l=this,j=c(k,m);j.namespace=".fadeOut";function i(n){n.off(f+j.namespace);n.off(f+".fadeIn");if(typeof(n.Q)==="undefined"){n.Q=new g(n)}n.Q.reset();n.Q.add(function(o){o.removeTransition().css({display:"block"}).setFadeTransition(j.duration,j.easing);o.Q.route(o)});n.Q.add(function(o){o.on(f+j.namespace,function(p){p.stopPropagation();o.off(f+j.namespace).removeAttr("style").css("display","none");o.removeAttr("data-transition");if(typeof(j.callback)==="function"){j.callback()}});o.Q.route(o)});n.Q.add(function(o){o.attr("data-transition","fadeOut").css("opacity","0");o.Q.route(o)});n.Q.start(n)}if(l){l.each(function(){i(e(this))})}};e.fn.fadeToggle=function(i,k){var j=this;if(j){j.each(function(){var l=e(this);if(l.is(":visible")){if(typeof(l.attr("data-transition"))!=="undefined"&&l.attr("data-transition")==="fadeOut"){l.fadeIn(i,k)}else{l.fadeOut(i,k)}}else{if(typeof(l.attr("data-transition"))!=="undefined"&&l.attr("data-transition")==="fadeIn"){l.fadeOut(i,k)}else{l.fadeIn(i,k)}}})}};e.fn.slideUp=function(k,m){var l=this,j=c(k,m);j.namespace=".slideUp";function i(o){var q=o.css("margin-bottom"),n=parseInt(o.find("* >:last-child").css("margin-bottom"))+parseInt(q),p=q.match(/[^\d\.]+/,"");o.off(f+".slideDown");o.off(f+".slideUp");if(typeof(o.Q)==="undefined"){o.Q=new g(o)}o.Q.reset();if(typeof(o.attr("data-transition"))==="undefined"){o.Q.add(function(r){r.removeTransition();r.Q.route(r)});o.Q.add(function(r){r.css({height:r.outerHeight(),overflow:"hidden","margin-bottom":n+p});r.Q.route(r)});o.Q.add(function(r){r.setSlideTransition(j.duration,j.easing);r.Q.route(r)})}o.Q.add(function(r){r.on(f+j.namespace,function(s){s.stopPropagation();if(s.originalEvent.propertyName==="height"){r.off(f+j.namespace).removeAttr("style").hide();r.removeAttr("data-transition");if(typeof(j.callback)==="function"){j.callback()}}});r.Q.route(r)});o.Q.add(function(r){r.attr("data-transition","slideUp").css({height:"0px","margin-top":"0px","margin-bottom":"0px","padding-top":"0px","padding-bottom":"0px"});r.Q.route(r)});o.Q.start(o)}if(l){l.each(function(){i(e(this))})}};e.fn.slideDown=function(k,n){var l=this,j=c(k,n);j.namespace=".slideDown";function m(p){var r=p.parent(),q=p.clone(),s,o;r.append('<div class="clone-container" />');s=r.find(".clone-container");s.css({width:r.outerWidth()+"px",padding:r.css("padding"),height:"auto",display:"block",position:"fixed",top:"-300%",left:"-300%",right:"auto",bottom:"auto",overflow:"auto"});q.css({display:"block",height:"auto","min-height":"0",overflow:"auto"}).appendTo(s);o={marginTop:q.css("margin-top"),marginBottom:q.css("margin-bottom"),paddingTop:q.css("padding-top"),paddingBottom:q.css("padding-bottom"),height:q.outerHeight(),childMargin:q.find("> *:last-child").css("margin-bottom")};s.remove();return o}function i(p){var o=m(p);p.off(f+".slideDown");p.off(f+".slideUp");if(typeof(p.Q)==="undefined"){p.Q=new g(p)}p.Q.reset();if(typeof(p.attr("data-transition"))==="undefined"){p.Q.add(function(q){q.removeAttr("style").hide().removeTransition().css({display:"block",overflow:"hidden",height:"0px","padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px"});q.Q.route(q)});p.Q.add(function(q){q.setSlideTransition(j.duration,j.easing);q.Q.route(q)});p.attr({"data-height":o.height,"data-padding-top":o.paddingTop,"data-padding-bottom":o.paddingBotttom,"data-margin-top":o.marginTop,"data-margin-bottom":o.marginBottom})}p.Q.add(function(q){q.on(f+j.namespace,function(r){r.stopPropagation();if(r.originalEvent.propertyName==="height"){q.off(f+j.namespace).removeAttr("style").show();q.removeAttr("data-transition");if(typeof(j.callback)==="function"){j.callback()}}});q.Q.route(q)});p.Q.add(function(q){q.attr("data-transition","slideDown").css({height:q.attr("data-height"),"padding-top":q.attr("data-padding-top"),"padding-bottom":q.attr("data-padding-bottom"),"margin-top":q.attr("data-margin-top"),"margin-bottom":q.attr("data-margin-bottom")});q.Q.route(q)});p.Q.start(p)}if(l){l.each(function(){i(e(this))})}};e.fn.slideToggle=function(i,k){var j=this;if(j){j.each(function(){var l=e(this);if(l.css("opacity")!==0&&l.css("height")!=="0"&&l.css("display")!=="none"){if(typeof(l.attr("data-transition"))!=="undefined"&&l.attr("data-transition")==="slideUp"){l.slideDown(i,k)}else{l.slideUp(i,k)}}else{if(typeof(l.attr("data-transition"))!=="undefined"&&l.attr("data-transition")==="slideDown"){l.slideUp(i,k)}else{l.slideDown(i,k)}}})}}}function c(g,i){var h={duration:400,easing:"ease"},f;if(typeof(g)==="object"){f=e.extend(h,g);f.callback=i}else{if(e.isNumeric(g)){f=e.extend(h,{duration:parseInt(g),callback:i})}else{if(typeof(g)==="string"){if(g==="fast"){f=e.extend(h,{duration:200,callback:i})}else{if(g==="slow"){f=e.extend(h,{duration:600,callback:i})}else{f=e.extend(h,{callback:i})}}}else{if(typeof(g)==="function"){f=e.extend(h,{callback:g})}else{f=e.extend(h,{callback:i})}}}}return f}(function(){var m=a.createElement("div").style,j=[m.transition,m.WebkitTransition,m.MozTransition,m.msTransition,m.oTransition],l=["","-webkit-","-moz-","-ms-","-o-"],h=["transitionend","webkitTransitionEnd","transitionend","msTransitionEnd","oTransitionEnd"];for(var g=0;g<j.length;g++){if(j[g]!==undefined){var f=h[g],k=l[g];b(f,k);break}}})()})(window,document,jQuery);