/* 
 *
 * css-fadeslide.js v1.2 (c) 2014
 * Enable CSS Transitions for jQuery fadeIn/Out/Toggle & slideUp/Down/Toggle
 *
 * @author  : Zach Winter (contact@zachwinter.com)
 * @link    : https://github.com/zachwinter/css-fadeslide.js
 * @license : MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 */

;(function(d,b,e){var g=function(){if(typeof(d.Modernizr)!=="undefined"&&typeof(d.Modernizr.csstransitions)!=="undefined"){return Modernizr.csstransitions}else{var j=b.createElement("div").style,h=[j.transition,j.WebkitTransition,j.MozTransition];for(var k=0;k<h.length;k++){if(h[k]!==undefined){return true}}return false}},a=g();var f=function(){var j=b.createElement("div").style,h={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var k in h){if(h.hasOwnProperty(k)&&j[k]!==undefined){return h[k]}}};var c=function(i,k){var j={duration:400,easing:"ease"},h;if(typeof(i)==="object"){h=e.extend(j,i);h.callback=k}else{if(e.isNumeric(i)){h=e.extend(j,{duration:parseInt(i),callback:k})}else{if(typeof(i)==="string"){if(i==="fast"){h=e.extend(j,{duration:200,callback:k})}else{if(i==="slow"){h=e.extend(j,{duration:600,callback:k})}else{h=e.extend(j,{callback:k})}}}else{if(typeof(i)==="function"){h=e.extend(j,{callback:i})}else{h=e.extend(j,{callback:k})}}}}return h};e.fn.setFadeTransition=function(h,i){this.redraw().css({"-webkit-transition":"opacity "+h/1000+"s "+i,"-moz-transition":"opacity "+h/1000+"s "+i,transition:"opacity "+h/1000+"s "+i}).redraw();return this};e.fn.setSlideTransition=function(h,i){this.redraw().css({"-webkit-transition":"height         "+h/1000+"s "+i+", margin-top     "+h/1000+"s "+i+", margin-bottom  "+h/1000+"s "+i+", padding-top    "+h/1000+"s "+i+", padding-bottom "+h/1000+"s "+i,"-moz-transition":"height         "+h/1000+"s "+i+", margin-top     "+h/1000+"s "+i+", margin-bottom  "+h/1000+"s "+i+", padding-top    "+h/1000+"s "+i+", padding-bottom "+h/1000+"s "+i,transition:"height         "+h/1000+"s "+i+", margin-top     "+h/1000+"s "+i+", margin-bottom  "+h/1000+"s "+i+", padding-top    "+h/1000+"s "+i+", padding-bottom "+h/1000+"s "+i}).redraw();return this};e.fn.removeTransition=function(){this.redraw().css({"-webkit-transition":"none","-moz-transition":"none",transition:"none"}).redraw();return this};e.fn.redraw=function(){this.each(function(){var h=this.offsetHeight});return this};e.fn.fadeIn_=e.fn.fadeIn;e.fn.fadeIn=function(j,n){var k=this;var i=c(j,n);var l=function(p){var o=f()+".fadeIn";p.removeTransition().css({opacity:"0",display:"block"}).setFadeTransition(i.duration,i.easing).on(o,function(q){p.off(o).removeAttr("style").show();setTimeout(function(){if(typeof(i.callback)=="function"){i.callback()}},0)}).css("opacity","1")};var m=function(o){o.fadeIn_(j,n)};var h=function(o){if(a){l(o)}else{m(o)}};if(k){k.each(function(){h(e(this))})}};e.fn.fadeOut_=e.fn.fadeOut;e.fn.fadeOut=function(j,n){var k=this;var i=c(j,n);var l=function(p){var o=f()+".fadeOut";p.setFadeTransition(i.duration,i.easing).css("opacity","0").on(o,function(q){p.off(o).removeAttr("style").hide().redraw();setTimeout(function(){if(typeof(i.callback)=="function"){i.callback()}},0)})};var m=function(o){o.fadeOut_(j,n)};var h=function(o){if(a){l(o)}else{m(o)}};if(k){k.each(function(){h(e(this))})}};e.fn.fadeToggle_=e.fn.fadeToggle;e.fn.fadeToggle=function(h,j){var i=this;if(i){i.each(function(){var k=e(this);if(k.is(":visible")){k.fadeOut(h,j)}else{k.fadeIn(h,j)}})}};e.fn.slideUp_=e.fn.slideUp;e.fn.slideUp=function(j,n){var k=this;var i=c(j,n);var l=function(p){var o=f()+".slideUp";p.removeTransition().css({height:p.outerHeight(),overflow:"hidden"}).setSlideTransition(i.duration,i.easing).on(o,function(q){if(q.originalEvent.propertyName=="height"){p.off(o).redraw().removeAttr("style").hide().redraw();setTimeout(function(){if(typeof(i.callback)=="function"){i.callback()}},0)}}).css({height:"0px","margin-top":"0px","margin-bottom":"0px","padding-top":"0px","padding-bottom":"0px"})};var m=function(o){o.slideUp_(j,n)};var h=function(o){if(a){l(o)}else{m(o)}};if(k){k.each(function(){h(e(this))})}};e.fn.slideDown_=e.fn.slideDown;e.fn.slideDown=function(j,n){var k=this;var i=c(j,n);var l=function(q){var p=f()+".slideDown";q.removeAttr("style").hide().removeTransition();var t=q.clone();t.insertAfter(q).css({height:"auto",width:q.width(),display:"block",position:"fixed",top:"-200%",left:"-200%",right:"200%"});var s=t.css("margin-top"),v=t.css("margin-bottom"),r=t.css("padding-top"),u=t.css("padding-bottom"),o=t.outerHeight();t.remove();q.css({display:"block",height:"0px","padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px",overflow:"hidden"}).setSlideTransition(i.duration,i.easing).on(p,function(w){q.off(f()).removeAttr("style").show().redraw();setTimeout(function(){if(typeof(i.callback)=="function"){i.callback()}},0)}).css({height:o,"padding-top":r,"padding-bottom":u,"margin-top":s,"margin-bottom":v})};var m=function(o){o.slideDown_(j,n)};var h=function(o){if(a){l(o)}else{m(o)}};if(k){k.each(function(){h(e(this))})}};e.fn.slideToggle_=e.fn.slideToggle;e.fn.slideToggle=function(h,j){var i=this;if(i){i.each(function(){var k=e(this);if(k.is(":visible")&&k.css("height")!=="0px"){k.slideUp(h,j)}else{k.slideDown(h,j)}})}}})(window,document,jQuery);