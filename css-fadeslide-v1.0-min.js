/* 
 *
 * css-fadeslide.js v1.0 (c) 2014
 * Enable CSS Transitions for jQuery fadeIn/Out/Toggle & slideUp/Down/Toggle
 * 
 * @author  : Zach Winter (contact@zachwinter.com)
 * @license : MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 */

;(function(b){var a={transitionSupport:function(){if(typeof(Modernizr)!="undefined"&&typeof(Modernizr.csstransitions)!="undefined"){return Modernizr.csstransitions}else{var d=document.createElement("div").style,c=[d.transition,d.WebkitTransition,d.MozTransition];for(var e=0;e<c.length;e++){if(c[e]!==undefined){return true}}return false}},setFadeTransition:function(c,d){c.css({"-webkit-transition":"opacity "+d/1000+"s ease","-moz-transition":"opacity "+d/1000+"s ease",transition:"opacity "+d/1000+"s ease"})},setSlideTransition:function(c,d){c.css({"-webkit-transition":"height "+d/1000+"s ease, margin "+d/1000+"s ease, padding "+d/1000+"s ease","-moz-transition":"height "+d/1000+"s ease, margin "+d/1000+"s ease, padding "+d/1000+"s ease",transition:"height "+d/1000+"s ease, margin "+d/1000+"s ease, padding "+d/1000+"s ease"})},removeTransition:function(c){c.css({"-webkit-transition":"none","-moz-transition":"none",transition:"none"})}};b.fn.fadeIn_=b.fn.fadeIn;b.fn.fadeIn=function(e,h){var d=this;if(b.isFunction(e)){h=e;e=300}var f=function(i){a.setFadeTransition(i,e);i.css("opacity","0").show();setTimeout(function(){i.on("transitionend webkitTransitionEnd",function(){i.off("transitionend webkitTransitionEnd");if(typeof(h)!="undefined"){h()}}).css("opacity","1")},20)};var g=function(i){i.fadeIn_(e,h)};if(d){var c=a.transitionSupport();d.each(function(){var i=b(this);c?f(i):g(i)})}};b.fn.fadeOut_=b.fn.fadeOut;b.fn.fadeOut=function(e,h){var d=this;if(b.isFunction(e)){h=e;e=300}var f=function(i){a.setFadeTransition(i,e);i.css("opacity","0");i.on("transitionend webkitTransitionEnd",function(){i.hide().removeAttr("style").off("transitionend webkitTransitionEnd");if(typeof(h)!="undefined"){h()}})};var g=function(i){i.fadeOut_(e,h)};if(d){var c=a.transitionSupport();d.each(function(){var i=b(this);c?f(i):g(i)})}};b.fn.fadeToggle_=b.fn.fadeToggle;b.fn.fadeToggle=function(d,e){var c=this;if(b.isFunction(d)){e=d;d=300}if(c){c.each(function(){var f=b(this);f.is(":visible")?f.fadeOut(d,e):f.fadeIn(d,e)})}};b.fn.slideUp_=b.fn.slideUp;b.fn.slideUp=function(e,h){var d=this;if(b.isFunction(e)){h=e;e=300}var f=function(j){a.setSlideTransition(j,e);var i=j.outerHeight();j.css({height:i,overflow:"hidden"});setTimeout(function(){j.on("transitionend webkitTransitionEnd",function(k){if(k.originalEvent.propertyName=="height"){j.off("transitionend webkitTransitionEnd");if(typeof(h)!="undefined"){h()}}}).css({height:"0px",margin:"0px",padding:"0px"})},20)};var g=function(i){i.slideUp_(e,h)};if(d){var c=a.transitionSupport();d.each(function(){var i=b(this);c?f(i):g(i)})}};b.fn.slideDown_=b.fn.slideDown;b.fn.slideDown=function(e,h){var d=this;if(b.isFunction(e)){h=e;e=300}var f=function(j){a.removeTransition(j);var k=j.css("margin"),l=j.css("padding"),i=j.css({height:"auto",display:"block"}).outerHeight();j.css({height:"0px",padding:"0px",margin:"0px",overflow:"hidden"});setTimeout(function(){a.setSlideTransition(j,e)},20);setTimeout(function(){j.on("transitionend webkitTransitionEnd",function(m){if(m.originalEvent.propertyName=="height"){j.off("transitionend webkitTransitionEnd").css("height","auto");if(typeof(h)!="undefined"){h()}}}).css({height:i,padding:l,margin:k})},40)};var g=function(i){i.slideDown_(e,h)};if(d){var c=a.transitionSupport();d.each(function(){var i=b(this);c?f(i):g(i)})}};b.fn.slideToggle_=b.fn.slideToggle;b.fn.slideToggle=function(d,e){var c=this;if(b.isFunction(d)){e=d;d=300}if(c){c.each(function(){var f=b(this);f.is(":visible")&&f.css("height")!=="0px"?f.slideUp(d,e):f.slideDown(d,e)})}}})(jQuery);