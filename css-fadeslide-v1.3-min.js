/* 
 *
 * css-fadeslide.js v1.3 (c) 2014
 * Enable CSS Transitions for jQuery fadeIn/Out/Toggle & slideUp/Down/Toggle
 *
 * @author  : Zach Winter (contact@zachwinter.com)
 * @link    : https://github.com/zachwinter/css-fadeslide.js
 * @license : MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 */

;(function(e,t,n){"use strict";var r=function(){if(typeof e.Modernizr!=="undefined"&&typeof e.Modernizr.csstransitions!=="undefined"){return Modernizr.csstransitions}else{var n=t.createElement("div").style,r=[n.transition,n.WebkitTransition,n.MozTransition];for(var i=0;i<r.length;i++){if(r[i]!==undefined){return true}}return false}},i=r();var s=function(){var e=t.createElement("div").style,n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var r in n){if(n.hasOwnProperty(r)&&e[r]!==undefined){return n[r]}}},o;if(i){o=s()}var u=function(e,t){var r={duration:400,easing:"ease"},i;if(typeof e==="object"){i=n.extend(r,e);i.callback=t}else if(n.isNumeric(e)){i=n.extend(r,{duration:parseInt(e),callback:t})}else if(typeof e==="string"){if(e==="fast"){i=n.extend(r,{duration:200,callback:t})}else if(e==="slow"){i=n.extend(r,{duration:600,callback:t})}else{i=n.extend(r,{callback:t})}}else if(typeof e==="function"){i=n.extend(r,{callback:e})}else{i=n.extend(r,{callback:t})}return i};n.fn.setFadeTransition=function(e,t){this.redraw().css({"-webkit-transition":"opacity "+e/1e3+"s "+t,"-moz-transition":"opacity "+e/1e3+"s "+t,transition:"opacity "+e/1e3+"s "+t}).redraw();return this};n.fn.setSlideTransition=function(e,t){this.redraw().css({"-webkit-transition":"height "+e/1e3+"s "+t+", "+"margin-top "+e/1e3+"s "+t+", "+"margin-bottom  "+e/1e3+"s "+t+", "+"padding-top "+e/1e3+"s "+t+", "+"padding-bottom "+e/1e3+"s "+t,"-moz-transition":"height "+e/1e3+"s "+t+", "+"margin-top "+e/1e3+"s "+t+", "+"margin-bottom "+e/1e3+"s "+t+", "+"padding-top "+e/1e3+"s "+t+", "+"padding-bottom "+e/1e3+"s "+t,transition:"height "+e/1e3+"s "+t+", "+"margin-top "+e/1e3+"s "+t+", "+"margin-bottom "+e/1e3+"s "+t+", "+"padding-top "+e/1e3+"s "+t+", "+"padding-bottom "+e/1e3+"s "+t}).redraw();return this};n.fn.removeTransition=function(){this.redraw().css({"-webkit-transition":"none","-moz-transition":"none",transition:"none"}).redraw();return this};n.fn.redraw=function(){this.each(function(){var e=this.offsetHeight});return this};var a=function(e){var t=e.parent(),n,r,i;t.append('<div class="clone-container" />');n=t.find(".clone-container");n.css({width:t.outerWidth()+"px",padding:t.css("padding"),height:"auto",display:"block",position:"fixed",top:"-300%",left:"-300%",right:"auto",bottom:"auto"});r=e.clone();r.css({display:"block",height:"auto","min-height":"0"}).appendTo(n);i={marginTop:r.css("margin-top"),marginBottom:r.css("margin-bottom"),paddingTop:r.css("padding-top"),paddingBottom:r.css("padding-bottom"),height:r.outerHeight()};n.remove();return i};n.fn.fadeIn_=n.fn.fadeIn;n.fn.fadeIn=function(e,t){var r=this;var s=u(e,t);var a=function(e){var t=o+".fadeIn";e.removeTransition().css({opacity:"0",display:"block"}).setFadeTransition(s.duration,s.easing);e.on(t,function(n){n.stopPropagation();e.off(t).removeAttr("style").show().redraw();if(typeof s.callback=="function")s.callback()});e.css("opacity","1")};var f=function(n){n.fadeIn_(e,t)};var l=function(e){if(i){a(e)}else{f(e)}};if(r){r.each(function(){l(n(this))})}};n.fn.fadeOut_=n.fn.fadeOut;n.fn.fadeOut=function(e,t){var r=this;var s=u(e,t);var a=function(e){var t=o+".fadeOut";e.setFadeTransition(s.duration,s.easing).css("opacity","0").on(t,function(n){n.stopPropagation();e.off(t).removeAttr("style").hide().redraw();if(typeof s.callback=="function")s.callback()})};var f=function(n){n.fadeOut_(e,t)};var l=function(e){if(i){a(e)}else{f(e)}};if(r){r.each(function(){l(n(this))})}};n.fn.fadeToggle_=n.fn.fadeToggle;n.fn.fadeToggle=function(e,t){var r=this;if(r){r.each(function(){var r=n(this);if(r.is(":visible")){r.fadeOut(e,t)}else{r.fadeIn(e,t)}})}};n.fn.slideUp_=n.fn.slideUp;n.fn.slideUp=function(e,t){var r=this;var s=u(e,t);var a=function(e){var t=o+".slideUp";e.removeTransition().css({height:e.outerHeight(),overflow:"hidden"}).setSlideTransition(s.duration,s.easing);e.on(t,function(n){n.stopPropagation();if(n.originalEvent.propertyName=="height"){e.off(t).redraw().removeAttr("style").hide().redraw();if(typeof s.callback=="function")s.callback()}});e.css({height:"0px","margin-top":"0px","margin-bottom":"0px","padding-top":"0px","padding-bottom":"0px"})};var f=function(n){n.slideUp_(e,t)};var l=function(e){if(i){a(e)}else{f(e)}};if(r){r.each(function(){l(n(this))})}};n.fn.slideDown_=n.fn.slideDown;n.fn.slideDown=function(e,t){var r=this;var s=u(e,t);var f=function(e){var t=a(e),n=o+".slideDown";e.removeAttr("style").hide().removeTransition().css({display:"block",overflow:"hidden",height:"0px","padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px"}).setSlideTransition(s.duration,s.easing);e.on(n,function(t){t.stopPropagation();if(t.originalEvent.propertyName=="height"){e.off(n).removeAttr("style").show().redraw();if(typeof s.callback=="function")s.callback()}});e.css({height:t.height,"padding-top":t.paddingTop,"padding-bottom":t.paddingBottom,"margin-top":t.marginTop,"margin-bottom":t.marginBottom})};var l=function(n){n.slideDown_(e,t)};var c=function(e){if(i){f(e)}else{l(e)}};if(r){r.each(function(){c(n(this))})}};n.fn.slideToggle_=n.fn.slideToggle;n.fn.slideToggle=function(e,t){var r=this;if(r){r.each(function(){var r=n(this);if(r.is(":visible")&&r.css("height")!=="0px"){r.slideUp(e,t)}else{r.slideDown(e,t)}})}}})(window,document,jQuery);