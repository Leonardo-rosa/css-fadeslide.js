/* 
 *
 * css-fadeslide.js v1.3 (c) 2014
 * Enable CSS Transitions for jQuery fadeIn/Out/Toggle & slideUp/Down/Toggle
 *
 * @author  : Zach Winter (contact@zachwinter.com)
 * @link    : https://github.com/zachwinter/css-fadeslide.js
 * @license : MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 */

;(function(e,b,f){var h=function(){if(typeof(e.Modernizr)!=="undefined"&&typeof(e.Modernizr.csstransitions)!=="undefined"){return Modernizr.csstransitions}else{var k=b.createElement("div").style,j=[k.transition,k.WebkitTransition,k.MozTransition];for(var l=0;l<j.length;l++){if(j[l]!==undefined){return true}}return false}},a=h();var g=function(){var k=b.createElement("div").style,j={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var l in j){if(j.hasOwnProperty(l)&&k[l]!==undefined){return j[l]}}},c;if(a){c=g()}var d=function(j,l){var k={duration:400,easing:"ease"},i;if(typeof(j)==="object"){i=f.extend(k,j);i.callback=l}else{if(f.isNumeric(j)){i=f.extend(k,{duration:parseInt(j),callback:l})}else{if(typeof(j)==="string"){if(j==="fast"){i=f.extend(k,{duration:200,callback:l})}else{if(j==="slow"){i=f.extend(k,{duration:600,callback:l})}else{i=f.extend(k,{callback:l})}}}else{if(typeof(j)==="function"){i=f.extend(k,{callback:j})}else{i=f.extend(k,{callback:l})}}}}return i};f.fn.setFadeTransition=function(i,j){this.redraw().css({"-webkit-transition":"opacity "+i/1000+"s "+j,"-moz-transition":"opacity "+i/1000+"s "+j,transition:"opacity "+i/1000+"s "+j}).redraw();return this};f.fn.setSlideTransition=function(i,j){this.redraw().css({"-webkit-transition":"height "+i/1000+"s "+j+", margin-top "+i/1000+"s "+j+", margin-bottom "+i/1000+"s "+j+", padding-top "+i/1000+"s "+j+", padding-bottom "+i/1000+"s "+j,"-moz-transition":"height "+i/1000+"s "+j+", margin-top "+i/1000+"s "+j+", margin-bottom "+i/1000+"s "+j+", padding-top "+i/1000+"s "+j+", padding-bottom "+i/1000+"s "+j,transition:"height "+i/1000+"s "+j+", margin-top "+i/1000+"s "+j+", margin-bottom "+i/1000+"s "+j+", padding-top "+i/1000+"s "+j+", padding-bottom "+i/1000+"s "+j}).redraw();return this};f.fn.removeTransition=function(){this.redraw().css({"-webkit-transition":"none","-moz-transition":"none",transition:"none"}).redraw();return this};f.fn.redraw=function(){this.each(function(){var i=this.offsetHeight});return this};f.fn.fadeIn_=f.fn.fadeIn;f.fn.fadeIn=function(k,o){var l=this;var j=d(k,o);var m=function(q){var p=c+".fadeIn";q.removeTransition().css({opacity:"0",display:"block"});q.setFadeTransition(j.duration,j.easing).on(p,function(r){r.stopPropagation();q.off(p).removeAttr("style").show().redraw();if(typeof(j.callback)=="function"){j.callback()}});q.css("opacity","1")};var n=function(p){p.fadeIn_(k,o)};var i=function(p){if(a){m(p)}else{n(p)}};if(l){l.each(function(){i(f(this))})}};f.fn.fadeOut_=f.fn.fadeOut;f.fn.fadeOut=function(k,o){var l=this;var j=d(k,o);var m=function(q){var p=c+".fadeOut";q.setFadeTransition(j.duration,j.easing).css("opacity","0").on(p,function(r){r.stopPropagation();q.off(p).removeAttr("style").hide().redraw();if(typeof(j.callback)=="function"){j.callback()}})};var n=function(p){p.fadeOut_(k,o)};var i=function(p){if(a){m(p)}else{n(p)}};if(l){l.each(function(){i(f(this))})}};f.fn.fadeToggle_=f.fn.fadeToggle;f.fn.fadeToggle=function(i,k){var j=this;if(j){j.each(function(){var l=f(this);if(l.is(":visible")){l.fadeOut(i,k)}else{l.fadeIn(i,k)}})}};f.fn.slideUp_=f.fn.slideUp;f.fn.slideUp=function(k,o){var l=this;var j=d(k,o);var m=function(q){var p=c+".slideUp";q.removeTransition().css({height:q.outerHeight(),overflow:"hidden"});q.setSlideTransition(j.duration,j.easing).on(p,function(r){r.stopPropagation();if(r.originalEvent.propertyName=="height"){q.off(p).redraw().removeAttr("style").hide().redraw();if(typeof(j.callback)=="function"){j.callback()}}});q.css({height:"0px","margin-top":"0px","margin-bottom":"0px","padding-top":"0px","padding-bottom":"0px"})};var n=function(p){p.slideUp_(k,o)};var i=function(p){if(a){m(p)}else{n(p)}};if(l){l.each(function(){i(f(this))})}};f.fn.slideDown_=f.fn.slideDown;f.fn.slideDown=function(k,o){var l=this;var j=d(k,o);var m=function(y){var q,t,w,u,p,s,x,r,v;t=y.parent();t.append('<div class="clone-container" />');w=t.find(".clone-container");w.css({width:t.outerWidth()+"px",padding:t.css("padding"),height:"auto",display:"block",position:"fixed",top:"-300%",left:"-300%",right:"auto",bottom:"auto"});u=y.clone();u.css({display:"block",height:"auto","min-height":"0"}).appendTo(w);p=u.css("margin-top");s=u.css("margin-bottom");x=u.css("padding-top");r=u.css("padding-bottom");v=u.outerHeight();w.remove();y.removeAttr("style").hide().removeTransition().css({display:"block",overflow:"hidden",height:"0px","padding-top":"0px","padding-bottom":"0px","margin-top":"0px","margin-bottom":"0px"});q=c+".slideDown";y.removeTransition().setSlideTransition(j.duration,j.easing).on(q,function(z){z.stopPropagation();if(z.originalEvent.propertyName=="height"){y.off(q).removeAttr("style").show().redraw();if(typeof(j.callback)=="function"){j.callback()}}});y.css({height:v,"padding-top":x,"padding-bottom":r,"margin-top":p,"margin-bottom":s})};var n=function(p){p.slideDown_(k,o)};var i=function(p){if(a){m(p)}else{n(p)}};if(l){l.each(function(){i(f(this))})}};f.fn.slideToggle_=f.fn.slideToggle;f.fn.slideToggle=function(i,k){var j=this;if(j){j.each(function(){var l=f(this);if(l.is(":visible")&&l.css("height")!=="0px"){l.slideUp(i,k)}else{l.slideDown(i,k)}})}}})(window,document,jQuery);